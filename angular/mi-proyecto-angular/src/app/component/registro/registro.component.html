<h2>Registro de Nuevo Usuario</h2>
<form (ngSubmit)="onSubmit()" #registerForm="ngForm">
  <div>
    <label for="username">Nombre de Usuario:</label>
    <input type="text" id="username" name="username" [(ngModel)]="registerData.username" required>
    <div *ngIf="registerForm.controls['username']?.invalid && (registerForm.controls['username']?.dirty || registerForm.controls['username']?.touched)" class="error-message">
      <div *ngIf="registerForm.controls['username']?.errors?.['required']">El nombre de usuario es requerido.</div>
      <div *ngIf="registerForm.controls['username']?.errors?.['minlength']">El nombre de usuario debe tener al menos 3 caracteres.</div>
      <div *ngIf="registerForm.controls['username']?.errors?.['maxlength']">El nombre de usuario no puede tener más de 50 caracteres.</div>
    </div>
  </div>

  <div>
    <label for="email">Correo Electrónico:</label>
    <input type="email" id="email" name="email" [(ngModel)]="registerData.email" required email>
    <div *ngIf="registerForm.controls['email']?.invalid && (registerForm.controls['email']?.dirty || registerForm.controls['email']?.touched)" class="error-message">
      <div *ngIf="registerForm.controls['email']?.errors?.['required']">El correo electrónico es requerido.</div>
      <div *ngIf="registerForm.controls['email']?.errors?.['email']">El correo electrónico no es válido.</div>
      <div *ngIf="registerForm.controls['email']?.errors?.['maxlength']">El correo electrónico no puede tener más de 100 caracteres.</div>
    </div>
  </div>

  <div>
    <label for="password">Contraseña:</label>
    <input type="password" id="password" name="password" [(ngModel)]="registerData.password" required minlength="6" maxlength="100">
    <div *ngIf="registerForm.controls['password']?.invalid && (registerForm.controls['password']?.dirty || registerForm.controls['password']?.touched)" class="error-message">
      <div *ngIf="registerForm.controls['password']?.errors?.['required']">La contraseña es requerida.</div>
      <div *ngIf="registerForm.controls['password']?.errors?.['minlength']">La contraseña debe tener al menos 6 caracteres.</div>
      <div *ngIf="registerForm.controls['password']?.errors?.['maxlength']">La contraseña no puede tener más de 100 caracteres.</div>
    </div>
  </div>

  <h3>Información Personal</h3>
  <div>
    <label for="name">Nombre:</label>
    <input type="text" id="name" name="name" [(ngModel)]="registerData.person.name" required maxlength="100">
    <div *ngIf="registerForm.controls['name']?.invalid && (registerForm.controls['name']?.dirty || registerForm.controls['name']?.touched)" class="error-message">
      <div *ngIf="registerForm.controls['name']?.errors?.['required']">El nombre es requerido.</div>
      <div *ngIf="registerForm.controls['name']?.errors?.['maxlength']">El nombre no puede tener más de 100 caracteres.</div>
    </div>
  </div>

  <div>
    <label for="lastName">Apellido:</label>
    <input type="text" id="lastName" name="lastName" [(ngModel)]="registerData.person.lastName" required maxlength="100">
    <div *ngIf="registerForm.controls['lastName']?.invalid && (registerForm.controls['lastName']?.dirty || registerForm.controls['lastName']?.touched)" class="error-message">
      <div *ngIf="registerForm.controls['lastName']?.errors?.['required']">El apellido es requerido.</div>
      <div *ngIf="registerForm.controls['lastName']?.errors?.['maxlength']">El apellido no puede tener más de 100 caracteres.</div>
    </div>
  </div>

  <div>
    <label for="document">Documento:</label>
    <input type="text" id="document" name="document" [(ngModel)]="registerData.person.document" required maxlength="20">
    <div *ngIf="registerForm.controls['document']?.invalid && (registerForm.controls['document']?.dirty || registerForm.controls['document']?.touched)" class="error-message">
      <div *ngIf="registerForm.controls['document']?.errors?.['required']">El documento es requerido.</div>
      <div *ngIf="registerForm.controls['document']?.errors?.['maxlength']">El documento no puede tener más de 20 caracteres.</div>
    </div>
  </div>

  <div>
    <label for="phone">Teléfono:</label>
    <input type="text" id="phone" name="phone" [(ngModel)]="registerData.person.phone">
  </div>

  <button type="submit" [disabled]="!registerForm.form.valid">Registrar</button>

  <div *ngIf="registrationError" class="error-message">{{ registrationError }}</div>
  <div *ngIf="registrationSuccess" class="success-message">{{ registrationSuccess }}</div>
</form>

<p>¿Ya tienes una cuenta? <a routerLink="/login">Inicia sesión aquí</a></p>